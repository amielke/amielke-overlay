# HG changeset patch
# Parent fc68fa863a0c0f85c4b6758f6ab64653ae3cea80
Update source for gtk 3.12

diff --git a/roger/contact_edit.c b/roger/contact_edit.c
--- a/roger/contact_edit.c
+++ b/roger/contact_edit.c
@@ -176,19 +176,27 @@ void refresh_edit_dialog(struct contact 
 	gtk_widget_set_vexpand(scrolled, TRUE);
 	gtk_widget_set_hexpand(scrolled, TRUE);
 #if GTK_CHECK_VERSION(3,8,0)
 	gtk_container_add(GTK_CONTAINER(scrolled), grid);
 #else
 	gtk_scrolled_window_add_with_viewport(GTK_SCROLLED_WINDOW(scrolled), grid);
 #endif
 
+#if GTK_CHECK_VERSION(3,12,0)
+	gtk_widget_set_margin_start(grid, 25);
+#else
 	gtk_widget_set_margin_left(grid, 25);
+#endif
 	gtk_widget_set_margin_top(grid, 15);
+#if GTK_CHECK_VERSION(3,12,0)
+	gtk_widget_set_margin_end(grid, 25);
+#else
 	gtk_widget_set_margin_right(grid, 25);
+#endif
 	gtk_widget_set_margin_bottom(grid, 15);
 
 	gtk_grid_set_row_spacing(GTK_GRID(grid), 10);
 	gtk_grid_set_column_spacing(GTK_GRID(grid), 15);
 	photo_button = gtk_button_new();
 	detail_photo_image = gtk_image_new();
 	gtk_button_set_image(GTK_BUTTON(photo_button), detail_photo_image);
 	g_signal_connect(photo_button, "clicked", G_CALLBACK(photo_button_clicked_cb), contact);
diff --git a/roger/contacts.c b/roger/contacts.c
--- a/roger/contacts.c
+++ b/roger/contacts.c
@@ -74,19 +74,27 @@ void contacts_update_details(struct cont
 	GSList *addresses;
 	GtkWidget *grid;
 	gchar *markup;
 	gint detail_row = 1;
 
 	grid = gtk_grid_new();
 
 	if (contact) {
+#if GTK_CHECK_VERSION(3,12,0)
+		gtk_widget_set_margin_start(grid, 25);
+#else
 		gtk_widget_set_margin_left(grid, 25);
+#endif
 		gtk_widget_set_margin_top(grid, 25);
+#if GTK_CHECK_VERSION(3,12,0)
+		gtk_widget_set_margin_end(grid, 25);
+#else
 		gtk_widget_set_margin_right(grid, 25);
+#endif
 		gtk_widget_set_margin_bottom(grid, 25);
 
 		gtk_grid_set_row_spacing(GTK_GRID(grid), 15);
 		gtk_grid_set_column_spacing(GTK_GRID(grid), 15);
 		detail_photo_image = gtk_image_new();
 		gtk_grid_attach(GTK_GRID(grid), detail_photo_image, 0, 0, 1, 1);
 
 		detail_name_label = gtk_label_new("");
+#if GTK_CHECK_VERSION(3,12,0)
+		gtk_widget_set_margin_end(contacts_window_grid, 5);
+#else
+		gtk_widget_set_margin_right(contacts_window_grid, 5);
+#endif
 	gtk_widget_set_margin_bottom(entry, 5);
 	gtk_widget_set_vexpand(entry, FALSE);
 	gtk_entry_set_icon_from_icon_name(GTK_ENTRY(entry), GTK_ENTRY_ICON_PRIMARY, "edit-find-symbolic");
 	gtk_grid_attach(GTK_GRID(contacts_window_grid), entry, 0, 0, 1, 1);
 
 	scrolled = gtk_scrolled_window_new(NULL, NULL);
 	gtk_scrolled_window_set_shadow_type(GTK_SCROLLED_WINDOW(scrolled), GTK_SHADOW_IN);
 	gtk_widget_set_vexpand(scrolled, TRUE);
